(this["webpackJsonphacker-news-app"]=this["webpackJsonphacker-news-app"]||[]).push([[0],{27:function(e,t,a){},32:function(e,t,a){e.exports=a(82)},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(4),c=a.n(s),l=a(3),o=a(2),i=a(9),u=a(16),h=a.n(u),p={value:0,results:null,hide:"",showLoader:!1},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);switch(t.type){case"SHOW_LOADER":return a.showLoader=!0,a;case"HIDE":for(var n=e.results.length-1;n>=0;--n)e.results[n].objectID==t.objId&&e.results.splice(n,1);return a.hide=t.objId,a.results=e.results,a;case"INCREMENT":return a.showLoader=!1,a.results=t.value,a;case"FETCH_DATA":return a.results=t.results,a;default:return e}};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(o.b)({auth:function(){return{mock:!0}},form:Object(i.a)({key:"form",storage:h.a,debug:!0,blacklist:["foo"]},m)}),a=Object(o.c)(Object(i.a)({key:"root",debug:!0,storage:h.a,whitelist:["auth"]},t),e),n=Object(i.b)(a,null,(function(){}));return{store:a,persistor:n}},b=a(5),f=a(6),E=a(8),v=a(7),j=a(29),y=a.n(j),g=a(17),w=a.n(g),k=(a(27),a(86)),O=a(30),N=a.n(O),A={incrementAction:function(e){return{type:"INCREMENT",value:e}},fetchData:function(e){return{type:"FETCH_DATA",results:e}},hideAction:function(e){return{type:"HIDE",objId:e}},showLoader:function(){return{type:"SHOW_LOADER"}}};a(12),a(68),a(69);k.a.addLocale(N.a);var D=new k.a("en-US"),I=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).upvote=function(t){e.props.hackerActions.showLoader(),Object.assign(e.props.results.map((function(e){e.objectID===t&&(e.points=e.points+1)}))),e.props.hackerActions.incrementAction(e.props.results)},e.hide=function(t){e.props.hackerActions.hideAction(t)},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=function(){return r.a.createElement("div",{className:"table"},r.a.createElement("div",{className:"table-header"},r.a.createElement("span",{style:{width:"5%"}},r.a.createElement("div",null,"Comments")),r.a.createElement("span",{style:{width:"5%"}},r.a.createElement("div",null,"Vote Count")),r.a.createElement("span",{style:{width:"5%"}},r.a.createElement("div",null,"UpVotes")),r.a.createElement("span",{style:{width:"85%"}},r.a.createElement("div",null,"News Details"))),e.props.results&&e.props.results.map((function(t){return r.a.createElement("div",{key:t.objectID,id:t.objectID,className:"table-row"},r.a.createElement("span",{style:{width:"5%"}},t.num_comments),r.a.createElement("span",{style:{width:"5%"}},t.points),r.a.createElement("span",{className:"arrow-up",style:{width:"5%"},onClick:function(){return e.upvote(t.objectID)}},"^"),r.a.createElement("span",{style:{width:"85%",textAlign:"left"}},t.title," ",r.a.createElement("span",{className:"subject url-width"},"(",r.a.createElement("a",{href:t.url,target:"_blank",className:"subject"},t.url),")")," ",r.a.createElement("span",{className:"subject"},"by")," ",r.a.createElement("span",{className:"author"},t.author)," ",r.a.createElement("span",{className:"subject"},D.format(t.created_at_i)," "),r.a.createElement("span",{className:"subject hidebtn"},"[",r.a.createElement("span",{onClick:function(){return e.hide(t.objectID)}},"hide"),"]")))})))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,this.props.showLoader?r.a.createElement("h3",null,"Loading..."):r.a.createElement(t,null)))}}]),a}(n.Component),L=Object(l.b)((function(e){return{results:e.form.results,value:e.form.value,showLoader:e.form.showLoader,hide:e.form.hide}}),(function(e){return{hackerActions:Object(o.a)(A,e)}}))(I),S=a(31),C=a.n(S),T=(a(80),function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).fetchSearchTopStories=function(e,t){y.a.get("".concat("https://hn.algolia.com/api/v1").concat("/search","?").concat("query=").concat(e,"&").concat("page=").concat(t,"&").concat("hitsPerPage=").concat(20)).then((function(e){var t=e.data;n.setState({results:t,page:t.page}),n.props.hackerActions.fetchData(t.hits)}))},n.state={results:null,query:"",page:0,searchKey:""},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.fetchSearchTopStories(this.state.query,this.state.page)}},{key:"render",value:function(){var e=this,t=[];this.state.results&&this.state.results.hits.map((function(e){t.push({x:e.objectID,y:e.points})}));var a=[{color:"steelblue",points:t}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"centered"},r.a.createElement("div",{className:"parent-border"},r.a.createElement("div",{className:"results-container"},r.a.createElement(L,{results:this.props.results}),r.a.createElement("div",{className:"btn-alignment"},r.a.createElement(w.a,{variant:"de-emphasis",isDisabled:0===this.state.page,text:"Previous",onClick:function(){return e.fetchSearchTopStories(e.state.searchKey,e.state.page-1)}})," ","|"," ",r.a.createElement(w.a,{className:"nextbtn",variant:"de-emphasis",text:"Next",onClick:function(){return e.fetchSearchTopStories(e.state.searchKey,e.state.page+1)}}))),r.a.createElement("div",null,r.a.createElement(C.a,{className:"chart-class",height:"400px",data:a,xLabel:"id",yLabel:"Votes"})))))}}]),a}(n.Component)),x=Object(l.b)((function(e){return{results:e.form.results,hide:e.form.hide}}),(function(e){return{hackerActions:Object(o.a)(A,e)}}))(T),_=(a(81),d().store);c.a.render(r.a.createElement(l.a,{store:_},r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.d7c6b88c.chunk.js.map