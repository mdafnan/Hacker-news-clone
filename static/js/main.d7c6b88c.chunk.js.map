{"version":3,"sources":["reducers/reducer.js","reducers/actions/hackerActionsTypes.js","store/store.js","reducers/actions/hackerActions.js","components/ResultsComponent.js","App.js","index.js"],"names":["initialState","value","results","hide","showLoader","persistedDetails","state","action","newState","Object","assign","type","i","length","objectID","objId","splice","configureStore","reducer","combineReducers","auth","mock","form","persistReducer","key","storage","debug","blacklist","store","createStore","whitelist","persistor","persistStore","hackerActions","incrementAction","fetchData","hideAction","TimeAgo","addLocale","en","timeAgo","ResultsComponent","upvote","rowId","props","map","item","points","objid","Table","className","style","width","id","num_comments","onClick","textAlign","title","href","url","target","author","format","created_at_i","this","Component","connect","dispatch","bindActionCreators","App","fetchSearchTopStories","query","page","axios","get","then","res","storyData","data","setState","hits","searchKey","lineData","push","x","y","chartdata","color","variant","isDisabled","text","height","xLabel","yLabel","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d7c6b88c.chunk.js","sourcesContent":["import {\n  INCREMENT,\n  HIDE,\n  FETCH_DATA,\n  SHOW_LOADER,\n} from \"./actions/hackerActionsTypes\";\n\nconst initialState = {\n  value: 0,\n  results: null,\n  hide: \"\",\n  showLoader: false,\n};\n\nconst persistedDetails = (state = initialState, action) => {\n  const newState = Object.assign({}, state);\n\n  switch (action.type) {\n    case SHOW_LOADER:\n      newState.showLoader = true;\n      return newState;\n\n    case HIDE:\n      for (var i = state.results.length - 1; i >= 0; --i) {\n        if (state.results[i].objectID == action.objId) {\n          state.results.splice(i, 1);\n        }\n      }\n      newState.hide = action.objId;\n      newState.results = state.results;\n      return newState;\n\n    case INCREMENT:\n      newState.showLoader = false;\n      newState.results = action.value;\n      return newState;\n\n    case FETCH_DATA:\n      newState.results = action.results;\n      return newState;\n\n    default:\n      return state;\n  }\n};\n\nexport default persistedDetails;\n","export const INCREMENT = \"INCREMENT\";\nexport const FETCH_DATA = \"FETCH_DATA\";\nexport const HIDE = \"HIDE\";\nexport const SHOW_LOADER = \"SHOW_LOADER\";\n","import { createStore, combineReducers } from \"redux\";\nimport { persistStore, persistReducer } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\nimport persistedDetails from \"../reducers/reducer\";\n// import rootReducer from \"../reducers/reducer\";\n\n// const persistConfig = {\n//   key: \"root\",\n//   storage,\n\n//   whitelist: [\"addReducer\"],\n// };\n// const persistedReducer = persistReducer(persistConfig, rootReducer);\n\n// export default function configureStore(initialState) {\n//   const store = createStore(persistedReducer, initialState);\n\n//   const persistor = persistStore(store);\n\n//   return { store, persistor };\n// }\n\nfunction configureStore(initialState = {}) {\n  const reducer = combineReducers({\n    auth: () => ({ mock: true }),\n    form: persistReducer(\n      {\n        key: \"form\", // key for localStorage key, will be: \"persist:form\"\n        storage,\n        debug: true,\n        blacklist: [\"foo\"],\n      },\n      persistedDetails\n    ),\n  });\n\n  const store = createStore(\n    persistReducer(\n      {\n        key: \"root\",\n        debug: true,\n        storage,\n        whitelist: [\"auth\"],\n      },\n      reducer\n    ),\n    initialState\n  );\n\n  const persistor = persistStore(store, null, () => {\n    // if you want to get restoredState\n  });\n\n  return { store, persistor };\n}\n\nexport default configureStore;\n","import * as hackerActionTypes from \"./hackerActionsTypes\";\n\nconst hackerActions = () => ({\n  incrementAction: (value) => ({\n    type: hackerActionTypes.INCREMENT,\n    value,\n  }),\n\n  fetchData: (results) => ({\n    type: hackerActionTypes.FETCH_DATA,\n    results,\n  }),\n\n  hideAction: (objId) => ({\n    type: hackerActionTypes.HIDE,\n    objId,\n  }),\n\n  showLoader: () => ({\n    type: hackerActionTypes.SHOW_LOADER,\n  }),\n});\n\nexport default hackerActions();\n","import React, { Component } from \"react\";\nimport \"../App.css\";\nimport TimeAgo from \"javascript-time-ago\";\nimport en from \"javascript-time-ago/locale/en\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport hackerActions from \"../reducers/actions/hackerActions\";\nimport moment from \"moment\";\nimport \"moment/locale/fr\";\nimport \"moment/locale/es\";\n\nTimeAgo.addLocale(en);\n\nconst timeAgo = new TimeAgo(\"en-US\");\n\nclass ResultsComponent extends Component {\n  upvote = (rowId) => {\n    this.props.hackerActions.showLoader();\n\n    Object.assign(\n      this.props.results.map((item) => {\n        if (item.objectID === rowId) {\n          item.points = item.points + 1;\n        }\n      })\n    );\n    this.props.hackerActions.incrementAction(this.props.results);\n  };\n\n  hide = (objid) => {\n    this.props.hackerActions.hideAction(objid);\n  };\n\n  render() {\n    const Table = () => {\n      return (\n        <div className=\"table\">\n          <div className=\"table-header\">\n            <span style={{ width: \"5%\" }}>\n              <div>Comments</div>\n            </span>\n            <span style={{ width: \"5%\" }}>\n              <div>Vote Count</div>\n            </span>\n            <span style={{ width: \"5%\" }}>\n              <div>UpVotes</div>\n            </span>\n            <span style={{ width: \"85%\" }}>\n              <div>News Details</div>\n            </span>\n          </div>\n          {this.props.results &&\n            this.props.results /* .filter(isSearched(pattern)) */\n              .map((item) => (\n                <div\n                  key={item.objectID}\n                  id={item.objectID}\n                  className=\"table-row\"\n                >\n                  <span style={{ width: \"5%\" }}>{item.num_comments}</span>\n                  <span style={{ width: \"5%\" }}>{item.points}</span>\n\n                  <span\n                    className=\"arrow-up\"\n                    style={{ width: \"5%\" }}\n                    onClick={() => this.upvote(item.objectID)}\n                  >\n                    ^\n                  </span>\n                  <span style={{ width: \"85%\", textAlign: \"left\" }}>\n                    {item.title}{\" \"}\n                    <span className=\"subject url-width\">\n                      (\n                      <a href={item.url} target=\"_blank\" className=\"subject\">\n                        {item.url}\n                      </a>\n                      )\n                    </span>{\" \"}\n                    <span className=\"subject\">by</span>{\" \"}\n                    <span className=\"author\">{item.author}</span>{\" \"}\n                    <span className=\"subject\">\n                      {timeAgo.format(item.created_at_i)}{\" \"}\n                    </span>\n                    <span className=\"subject hidebtn\">\n                      [\n                      <span onClick={() => this.hide(item.objectID)}>hide</span>\n                      ]\n                    </span>\n                  </span>\n                </div>\n              ))}\n        </div>\n      );\n    };\n    return (\n      <>\n        <div>{this.props.showLoader ? <h3>Loading...</h3> : <Table />}</div>\n      </>\n    );\n  }\n}\n\nexport const mapDispatchToProps = (dispatch) => ({\n  hackerActions: bindActionCreators(hackerActions, dispatch),\n});\n\nexport const mapStateToProps = (state) => ({\n  results: state.form.results,\n  value: state.form.value,\n  showLoader: state.form.showLoader,\n  hide: state.form.hide,\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResultsComponent);\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Button from \"terra-button\";\nimport \"./App.css\";\nimport ResultsComponent from \"./components/ResultsComponent\";\nimport LineChart from \"react-linechart\";\nimport \"../node_modules/react-linechart/dist/styles.css\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport hackerActions from \"./reducers/actions/hackerActions\";\n\nconst DEFAULT_QUERY = \"\";\nconst DEFAULT_PAGE = 0;\nconst DEFAULT_HPP = 20;\nconst PATH_BASE = \"https://hn.algolia.com/api/v1\";\nconst PATH_SEARCH = \"/search\";\nconst PARAM_SEARCH = \"query=\";\nconst PARAM_PAGE = \"page=\";\nconst PARAM_HPP = \"hitsPerPage=\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      results: null,\n      query: DEFAULT_QUERY,\n      page: DEFAULT_PAGE,\n      searchKey: \"\",\n    };\n  }\n  componentDidMount() {\n    this.fetchSearchTopStories(this.state.query, this.state.page);\n  }\n\n  fetchSearchTopStories = (query, page) => {\n    axios\n      .get(\n        `${PATH_BASE}${PATH_SEARCH}?${PARAM_SEARCH}${query}&${PARAM_PAGE}${page}&${PARAM_HPP}${DEFAULT_HPP}`\n      )\n      .then((res) => {\n        const storyData = res.data;\n        this.setState({ results: storyData, page: storyData.page });\n        this.props.hackerActions.fetchData(storyData.hits);\n      });\n  };\n\n  render() {\n    let lineData = [];\n    this.state.results &&\n      this.state.results.hits.map((data) => {\n        lineData.push({ x: data.objectID, y: data.points });\n      });\n    const chartdata = [\n      {\n        color: \"steelblue\",\n        points: lineData,\n      },\n    ];\n    return (\n      <>\n        <div className=\"centered\">\n          <div className=\"parent-border\">\n            <div className=\"results-container\">\n              <ResultsComponent results={this.props.results} />\n              <div className=\"btn-alignment\">\n                <Button\n                  variant=\"de-emphasis\"\n                  isDisabled={this.state.page === 0}\n                  text=\"Previous\"\n                  onClick={() =>\n                    this.fetchSearchTopStories(\n                      this.state.searchKey,\n                      this.state.page - 1\n                    )\n                  }\n                ></Button>{\" \"}\n                |{\" \"}\n                <Button\n                  className=\"nextbtn\"\n                  variant=\"de-emphasis\"\n                  text=\"Next\"\n                  onClick={() =>\n                    this.fetchSearchTopStories(\n                      this.state.searchKey,\n                      this.state.page + 1\n                    )\n                  }\n                ></Button>\n              </div>\n            </div>\n            <div>\n              <LineChart\n                className=\"chart-class\"\n                height={\"400px\"}\n                // width={\"1000px\"}\n                data={chartdata}\n                xLabel=\"id\"\n                yLabel=\"Votes\"\n              />\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport const mapDispatchToProps = (dispatch) => ({\n  hackerActions: bindActionCreators(hackerActions, dispatch),\n});\n\nexport const mapStateToProps = (state) => ({\n  results: state.form.results,\n  hide: state.form.hide,\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// import * as serviceWorker from \"./serviceWorker\";\nimport { Provider } from \"react-redux\";\nimport configureStore from \"./store/store\";\nimport App from \"./App\";\nimport \"./index.css\";\n// import { PersistGate } from \"redux-persist/lib/integration/react\";\n\nconst { store } = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}